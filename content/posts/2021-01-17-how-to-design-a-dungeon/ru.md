---
title = "Как придумать подземелье"
tags = [ "gamedev", "game-design", "theory", "interesting", "best", "world-design"]
published_at = "2021-01-17T12:00:00+00:00"
seo_description = "Рекомендации по созданию подземелий для игр: как смотреть на подземелье с точки зрения опыта игрока, на что обратить внимание при разработке."
seo_image = "images/how-to-design-a-dungeon-cover.jpg"
---

/// brigid-images
src = "images/how-to-design-a-dungeon-cover.jpg"
caption = "Источник: [Pinterest](https://www.pinterest.com/pin/559994534913996418/?)"
///

В пост [о генерации подземелий]{post:dungeon-generation-from-simple-to-complex} часто приходят люди, которые ищут урок по придумыванию подземелья, а не по программированию. Для партии в [D&D](https://ru.wikipedia.org/wiki/Dungeons_%26_Dragons), например.

Чтобы никто не ушёл обиженным, вот небольшой набор рекомендаций на тему. Рекомендации подойдут не только для подземелий, но и для разработки любой локации.

Дополнительно советую почитать:

- [О создании названий]{post:about-names-creation}
- [О проектировании миров]{post:about-worlds-building}
- [Следующий фронтир геймдизайна]{post:next-gamedesign-frontier}

Последнее эссе больше о дизайне компьютерных игр, но содержит несколько важных соображений, которые я в дальнейшем буду использовать.

<!-- more -->

## Зачем нужно подземелье?

Некроманту подземелье нужно, чтобы создавать нежить, проводить опыты над людьми и, возможно, жить.

Сумасшедшему учёному оно нужно, опять таки, как научная лаборатория.

Ворам — как сокровищница и место планирования будущих операций.

Правителям — чтобы держать в нём преступников.

Вам же, как геймдизайнеру или гейммастеру, подземелье ни для чего из этого не нужно. Равно как и игрокам, даже когда они думают иначе. Конечно, если вы не сумасшедший учёный или вампир.

В игре **подземелье используется как инструмент для создания у игроков необходимого опыта**. Как и любая другая локация.

Конкретный тип опыта зависит от игры и игроков. Быть может вы хотите их повеселить? Озадачить, проучить, напрячь или напугать? Может быть даже всё вышеперечисленное вместе плюс ещё немного.

Скорее всего **вы хотите создать цепочку опыта и впечатлений**:

1. Заинтриговать их у входа в подземелье.
2. Погрузить в атмосферу неопределённости.
3. Обмануть.
4. Поставить персонажей на грань жизнь и смерти.
5. Снять напряжение толикой юмора.
6. Научить решать шахматные задачи.
7. Поставить перед моральным выбором.
8. Опять на грань жизни и смерти.
9. Продемонстрировать, что каждое решение имеет последствия.
10. Вознаградить (или нет) за усилия.

Чтобы правильно строить такие цепочки, надо знать немного психологии, сценарного мастерства и своих игроков, конечно. Тут я мало что могу посоветовать.

Зато точно скажу, что **структура вашего подземелья должна в первую очередь определяться именно желаемой последовательностью получаемого опыта**.

Если у нас есть «история», которую мы хотим рассказать подземельем, то мы должны строить его так, чтобы история рассказывалась последовательно. Стоит нам перепутать «последовательность комнат», как все наши задумки пойдут прахом и подземелье станет неинтересным.

## Контекст подземелья

Цель существования подземелья мы определили, как и первое, самое важное, ограничение его структуры.

Столь же существенным, хотя и чуть менее приоритетным, является соответствие подземелья [контексту](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82), в котором оно существует. **Подземелье должно органично вписываться в окружение игры**: соответствовать вселенной, текущей ситуации в игре, возможностям игроков.

В большинстве случаев (но не во всех) будет плохой идеей вести игроков:

- в непроходимое подземелье;
- в логово средневековой гильдии воров, расположенное на космической станции;
- в логово некроманта, выглядящее как бордель.

Поэтому, перед созданием подземелья необходимо выделить существенные свойства контекста, в особенности:

- Исторический период: текущий и времени постройки подземелья.
- Культуру создателей и актуальных владельцев. Материальную и духовную, на случай если понадобится добавить фрески или книгу, а это обязательно понадобится.
- Доступные технологии и ресурсы для его постройки и ремонта: деревянный форт в пустыне будет выглядеть комично.
- Виды существ, которые могут его населять.
- Этап игры на котором игроки попадут в подземелье, желательные параметры их персонажей.

Кстати, подобную информацию об игровых объектах удобно записывать и хранить в виде карточек с кратким описанием свойств объекта. Они упростят вашу жизнь, когда надо будет что-то вспомнить или создать новый объект по образу и подобию предыдущего. Подробнее про карточки я говорил в [рассказе о проектировании миров]{post:about-worlds-building}.

## Живое подземелье

Если просто накидать комнат с врагами и ловушками, то с большой вероятностью игроки будут ощущать подземелье как картонные декорации в спектакле, направленном на них. Это может сыграть на пользу, если мы делаем игру в жанре сатиры, но в большинстве случаев такие ощущения совсем не то, что нам и игрокам хотелось бы получить.

Подземелье не будет ощущаться «живым». **Игроки должны видеть, что оно, вместе со всеми комнатами и жителями, существует для собственных целей, а не для развлечения путешественников.** Причём не только существует сейчас, но и существовало до их прихода и, возможно, будет существовать после ухода.

На мой взгляд, термин точно передаёт суть, хотя и имеет расплывчатую формулировку. Для себя я определил более конкретные критерии «живости» мира:

1. Правила функционирования мира игрок может узнать и понять.
2. Будущее локальное состояние мира может быть предсказано игроком с «разумной» точностью.
3. Причины возникновения текущего локального состояния мира можно определить с «разумной» точностью.
4. Игрок не выступает единственным источником изменений в мире.
5. Сущности, например жители подземелья, влияют друг на друга в достаточной мере, чтобы изменения не затухали — состояние мира не замораживалось со временем.

Пятый пункт относится скорее к компьютерным играм, а вот 1-4 пункты можно распространять на все.

Для подземелья это значит, например, что его жители заняты какой-то работой, а не сидят и ждут пока к ним придут игроки. Некроманты сшивают трупы, охранники — охраняют, повара — готовят. Равно как и общаются на перекурах, пишут письма родным, ругаются и плетут заговоры друг против друга.

Не обязательно, даже вредно, продумывать и симулировать «честную» жизнь подземелья. Например, прописывать бытовую логику каждого жителя и управлять им. Это очень затратный подход, тем более игроки не заметят потраченых усилий. Куда проще создавать иллюзию жизни.

Добиться правдоподобия можно несколькими способами.

### Случайные события

Игроки в большинстве случаев не могут подсмотреть за жизнью подземелья, а способны только сталкиваться с её проявлениями во время движения по нему. Поэтому можно добавить события, которые срабатывают при действиях игроков в заданном контексте.

Например:

1. При открытии двери уборной можно встретить справляющего нужду жителя подземелья.
2. При посещении столовой во время обеда, там может быть больше противников. чем в другое время.
3. Аналогично, в казармах больше противников (спящих) может быть ночью.
4. Через закрытые двери можно дать послушать бытовые разговоры противников.

### Артефакты жизнедеятельности

Кроме самой жизнедеятельности можно наблюдать и её следы. Да, наваленная в углу куча — тоже след жизнедеятельности. Он, к слову, при проверке на знание лора, расскажет о существовании тролля, который ослаблен расстройством желудка.

Артефакты, конечно, бывают и менее жизнедеятельными:

1. Официальные бумаги: отчёты снабженцев, рапорты охраны, протоколы экспериментов.
2. Неофициальные бумаги: личные письма, дневники, записки.
3. Следы пребывания живых (или мёртвых) в комнатах: лужи в ванной, немытая посуда, недавно выглаженное бельё.
4. Следы ремонта.
5. Пыль в местах, которые редко посещаются жителями.

Главное помните: **если на столе стоит тарелка с горячим супом, рядом должен быть тот, кто им обедает**.

## Якоря

Вот у нас есть живое подземелье, которое вполне соответствует окружающему миру. Но кое-чего не хватает.

Представьте что у нас не одно подземелье, а множество подземелий, городов, хуторов, секретных рощ и подобных мест. Все они проработаны по описанным правилам, размещены где-то в мире игры и игроки путешествуют между ними. Не забыли ли мы что-нибудь, что разрушит погружение игроков в игру?

С первого взгляда кажется что нет. Приходят игроки в город А, делают там свои дела, их отправляют на хутор Б, оттуда в подземелье В и так далее — всё дальше и дальше по сюжету.

Что случится, если игроки отойдут в сторону от сюжета и посмотрят на мир со стороны? Хорошие игроки любят это делать.

Они увидят, что в городе А знают только о хуторе Б, на хуторе знают только о подземелье, а в подземелье не слышали ни о городе ни о хуторе — они там своими подземными делами занимаются. Или, что также плохо, в каждом из этих мест знают только о событиях из приключения игроков, а ни о каких прочих событиях не слышали.

Опять налицо картонность, на этот раз не одного подземелья, а целого мира, который построен вокруг истории игроков. Конечно, мир вполне может строится вокруг игроков, часто он должен так строится, но игроки не должны замечать этот маленький обман.

Чтобы спрятать ужасную правду, **следует связать контент воедино, заякорить его единицы: места, людей, события — друг на друга**.

Якорь — хороший термин — мы в буквальном смысле пробрасываем из одной сущности в другую что-то небольшое, но цепкое, что позволяет удерживать их вместе.

Якорем может стать любая мелочь:

- слух или сплетня;
- отрывок письма с упоминанием другой сущности;
- граффити общей тематики в разных городах;
- картины с изображением знакомых мест или персонажей;
- персонажи или организации, встречающиеся в разных местах;
- анекдот, рассказываемый в таверне, который повторяется везде вдоль маршрута выслеживаемого шпиона;
- причинно-следственные связи между местами или персонажами, когда случившееся с одним влияет на другого;
- новости, догоняющие или обгоняющие героев в путешествии;
- прямые упоминания в разговорах других мест и персонажей, куда ж без этого.

## Избыточность

Последний, но не менее важный момент, который я хочу затронуть.

Вопрос детализации и уровня проработки контента: мира игры, персонажей, локаций — стоит остро даже в компьютерных играх, которые всё ещё с большего линейны. В играх с живым ГМ он стоит ещё острее: у игроков значительно больше свободы действий, а значит больше и событий, мест, персонажей, которых необходимо продумать.

Самое важное: **не пытайтесь продумать всё идеально**. Игроков больше, чем вас, их фантазия заточена на то, чтобы находить нестандартные ходы, поэтому предусмотреть всё невозможно. Чем больше штук вы придумаете, тем больше их останется невостребованными. Игроки пройдут мимо: вместо трактира завернут в библиотеку, вместо права пойдут налево и так далее.

Чтобы сэкономить усилия, **импровизируйте — конструируйте всё возможное на ходу из заготовок**. Если вы придумали интересный слух, не вписывайте его в уста конкретного персонажа, которого игроки могут пропустить, разрешите пересказать его любому персонажу, которому слух подходит.

Например, слух о торговле может рассказать любой торговец, а не одноногий-одноглазый-однорукий скупщик краденого в чёрном тупике, который обнаруживается при выбрасывании 20 на восприятие. Конечно, могут и должны существовать уникальные вещи, которые случаются только в специально сконструированных условиях. Как и везде, тут нужно блюсти баланс.

В конструировании вам могут помочь мои [соображения о композиции и классификации]{post:composition-vs-classification}.

Кстати, об одноногих и одноглазых. **Хороший способ привести игрока к нужному контенту — заинтересовать его чем-то, к чему он сам пойдёт.**

Простых примеров полно в компьютерных играх, которые используют этот приём направо и налево. Самые топорные варианты: значки заданий над головами NPC или гигантский столп света на горизонте.

В некомпьютерных играх настолько лобовой подход, конечно, не сработает, но суть та же: бард ни за что не откажется уделить внимание подмигивающей эльфийке, сыщик не пропустит следы крови на полу, а жрец не посмеет обойти помощью страждущего.

**Пытаясь ограничить избыточность — не разрушьте целостность мира или подземелья**.

Нарушение целостности — обратная сторона избыточности. Если избыточность — о лишнем, то нарушение целостности — о недостающем или несинхронизированном.

Продумывая новые сущности, прорабатывайте все их важные свойства — именно на них игроки обращают внимание в первую очередь.

Если существует развилка, то необходимо дать возможность идти и направо и налево. Если есть бригада строителей, то должен быть её прораб. В тюрьме должны быть стражники, заключённые и начальник тюрьмы.

Также важно следить за согласованностью уже придуманных свойств. Путь идущий на север не приводит туда же, куда и идущий на юг. Начальником охраны в эльфийском поселении не станет орк. Сокровищницу не построят вне охраняемой зоны подземелья. И так далее. Опять же, всегда возможны исключения, если они логично ложатся на мир игры и сюжет.

## Итого

Как вы могли заметить, я не сказал ни слова о том, как правильно расставить комнаты в подземелье или сколько охраны в какую комнату ставить.

В любой локации важно не количество комнат, охраны и ловушек, а опыт, впечатления, которые получают игроки. Именно желаемый опыт, вкупе с миром игры, сюжетом и правилами определяют локацию.

А количество комнат, охраны и ловушек относительно легко выводятся из получаемых ограничений.
