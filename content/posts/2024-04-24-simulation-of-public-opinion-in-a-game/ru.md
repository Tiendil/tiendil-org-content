---
title = "Симуляция общественного мнения в игре"
tags = [ "theory", "practice", "development", "gamedev", "game-design", "open-source", "procedural-content-generation", "world-builders"]
published_at = "2024-04-24T12:00:00+00:00"
description = "Сделал технический прототип песочницы про манипулирование общественным мнением. Рассказываю как он работает, есть видео и исходники."
seo_image = "./images/cover_ru.jpg"
---

/// brigid-youtube
id = "nP8OOWgnjdI"
caption = "Демонстрация технического прототипа манипулиции общественным мнением и рассказ как он работает."
///

Продолжаю участовать в школе [World Builders]{tags:world-builders}, за последний месяц сделал технический прототип механик манипулиции общественным мнением.

Игра задумывается как песочница про манипулирование общественным мнением в мегаполисе. Вы играете за главного редактора новостного агенства, который отправляет своих журналистов на задания, а по их результатам публикует статьи с фокусом на нужные темы.

Всё интересное можно найти в заглавном видео, ниже текстом пройдусь по основным моментам.

- [Прототип](https://tiendil.github.io/world-builders-2023/technical-prototype/dist/)
- [Исходники](https://github.com/Tiendil/world-builders-2023/tree/main/technical-prototype)

<!-- more -->

## Описание игровых мехиник

Население города представлено списокм «важных» жителей — NPC. Воспринимать их можно как инфлуенсеров или как персонализированные репрезентации небольших групп населения.

Каждый NPC имеет праметр «последователи», который отражет мнение какого количества людей отражает этот NPC.

NPC описывается набором перков: «сильный», «работает офицером полиции», «ведьма», etc.

Перки участвуют в игре двумя способами:

- Определяют базовые характеристики NPC. Они, в свою очередь, влияют на прохождение персонажем «вызовов», которые встают перед ним.
- Определяют социальные срезы, по отношению к которым NPC может думать что-то. Например, NPC может иметь плохое мнение о работинках полиции и хорошее о ведьмах.

### Нарративные арки

Нарративныя арка — это типовой линейный (или почти линейный) сюжет, который проходят его участники.

Каждый NPC должен участвовать, как минимум, в одной арке. Лучше в нескольких.

Арка разбита на несколько этапов, для перехода между которыми арка должна собрать достаточно очков по специфичным для арки правилам.

Примеры арок:

- Арка влюблённых. Этапы: знакомство, влюблённость, свадьба. Очки арки зарабатываются, если её участники одновременно хорошо относятся друг к другу. Не обязательно напрямую. Например, NPC1 может быть хорошего мнения у женщинах-футболистах и если NPC2 женщина и играет в футбол, это защитывается.
- Арка выгоревшего полицейского. Этапы: работа, стресс, нервный срыв. Очки арки зарабатываются, когда отрицательное общественное мнение о полиции сильнее положительного.

Арка, наряду с остальными параметрами NPC, определяет какие события могут с ним ними происходить.

### Расследование и публикация материала

Когда в горде происходит событие, игрок может направить своих сотрудников расследовать его. Сотрудники — такие же NPC, поэтому, например, можно расследовать событие о своём сотруднике или получить проблемы из-за того, что сотруднику не понравился тон последний публикации.

Каждое расследование — это последовательность вызовов (проверок), которые должен пройти журналист, чтобы собрать достаточно информации для публикации.

Вероятность пройти вызов определяется характеристиками журналиста.

Когда расследование завершено, создаётся материал:

- Выбирается несколько «тем», которые будут освещены в материале. Темы определяются перками участвующих в событии NPC. Например, статья может быть про ведьм, офицеров полиции, конкретного NPC, организацию, футболистов, etc.
- Для тем выбираются коннотации (положительная, отрицательная, нейтральная). В прототипе это происходит случайно, в игре на это должны влиять предпочтения журналиста.
- Игрок (главный редактор) может поменять коннотацию тем, но ограниченное количество раз. Количество изменений зависит от того, сколько испытаний журналист успешно прошёл во время расследования.

Когда редактирование завершено, материал публикуется и влияет на общественное мнение: в память каждого NPC записывается случайный факт из материала с ненейтральной коннотацией.

Тем самым, публикация изменяет общественное мненеие.

Механика, кроме самого влияния на общественное мнение, даёт сразу несколько вызовов для игрока:

- Необходимо выбирать кого отправлять на расследование, чтобы результирующий материал можно было отредактировать в нужную сторону.
- Необходимо соблюдать компромис в правках, так как исправить все коннотации не получится и придётся выбирать чем жертвовать.

В итоге получаем цикл:

- Арки формируют события, специфичные для текущей ситуации в городе.
- Игрок расследует события и двигает общественное мнение.
- Общественное мнение двигает арки.

По задумке, это должно приводить к уникальности каждой игровой сессии. Конечно, если будет достаточно разнообразных арок.

## Технические детали

- Прототипировать на современном фронте удобно. Особенно штуки без динамики и сложной графики. Идеально, если быстро надо накидывать кучу интерфейса.
- TypeScript лучше JavaScript, но тяжёлое наследие тянется и всё ещё приносит страдания :-) Но терпимо.
