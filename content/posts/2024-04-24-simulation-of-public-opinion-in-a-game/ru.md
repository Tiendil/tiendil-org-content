---
title = "Симуляция общественного мнения в игре"
tags = [ "theory", "practice", "development", "gamedev", "game-design", "open-source", "procedural-content-generation", "world-builders"]
published_at = "2024-04-24T12:00:00+00:00"
description = "Сделал технический прототип песочницы про манипулирование общественным мнением. Рассказываю как он работает, есть видео и исходники."
seo_image = ""
---

/// brigid-youtube
id = "nP8OOWgnjdI"
caption = "Демонстрация технического прототипа манипуляции общественным мнением и рассказ как он работает."
///

Продолжаю участвовать в школе [World Builders]{tags:world-builders}. За последний месяц набросал технический прототип механик манипуляции общественным мнением.

Вы играете за главного редактора новостного агентства, который отправляет журналистов на задания, а по результатам расследований публикует статьи с фокусом на нужные (игроку) темы.

- [Прототип](https://tiendil.github.io/world-builders-2023/technical-prototype/dist/)
- [Исходники](https://github.com/Tiendil/world-builders-2023/tree/main/technical-prototype)

Всё интересное можно найти в заглавном видео, ниже текстом пройдусь по основным моментам.

<!-- more -->

## Игровые механики

Население города представлено списком «важных» жителей — NPC. Воспринимать их можно как инфлуенсеров или как персонализированные репрезентации небольших групп населения.

Каждый NPC имеет параметр «последователи», который отражет мнение какого количества людей отражает этот NPC.

NPC описывается набором перков: «сильный», «работает офицером полиции», «ведьма», etc.

Перки участвуют в игре двумя способами:

- Определяют базовые характеристики NPC. Они, в свою очередь, влияют на прохождение персонажем «вызовов», которые встают перед ним.
- Определяют социальные срезы, по отношению к которым NPC может думать что-то. Например, NPC может иметь плохое мнение о работниках полиции и хорошее о ведьмах.

### Нарративные арки

Нарративныя арка (в контексте прототипа) — это типовой линейный сюжет, который проходят его участники.

Каждый NPC должен участвовать, как минимум, в одной арке. Лучше в нескольких.

Арка разбита на этапы, для перехода между которыми арка должна собрать достаточно очков по специфичным для неё правилам.

Примеры арок.

Арка влюблённых. Этапы: знакомство, влюблённость, свадьба. Очки арки зарабатываются, если её участники одновременно хорошо относятся друг к другу. Не обязательно напрямую. Например, NPC 1 может быть хорошего мнения о женщинах-футболистах и если NPC 2  — женщина и играет в футбол, это защитывается.

Арка выгоревшего полицейского. Этапы: работа, стресс, нервный срыв. Очки арки зарабатываются, когда отрицательное общественное мнение о полиции сильнее положительного.

Арки определяют какие события могут происходить в городе. Свадьба может изменить некоторые перки участников, а сорвавшийся полицейский — застрелить кого-то.

### Расследование и публикация материала

Когда в городе происходит событие, игрок может направить своих сотрудников расследовать его. Сотрудники — такие же NPC, поэтому, например, можно расследовать событие о своём работинке или получить проблемы из-за того, что журналисту не понравился тон последний публикации.

Каждое расследование — это последовательность вызовов (проверок), которые должен пройти журналист, чтобы собрать достаточно информации для публикации.

Вероятность пройти вызов определяется характеристиками журналиста.

Когда расследование завершено, создаётся материал:

- Выбирается несколько тем, которые будут освещены в материале. Темы определяются перками участвующих в событии NPC. Например, статья может быть про ведьм, офицеров полиции, конкретного NPC, организацию, футболистов, etc.
- Для каждой темы выбираются базовая коннотация (положительная, отрицательная, нейтральная). В прототипе это происходит случайно, в игре на это должны влиять предпочтения журналиста.

Игрок (главный редактор) может поменять коннотацию тем, но ограниченное количество раз. Количество изменений зависит от того, сколько испытаний журналист успешно прошёл во время расследования.

Когда редактирование завершено, материал публикуется и влияет на общественное мнение: в память каждого NPC записывается случайный факт из материала с положительной или отрицательной коннотацией.

Тем самым, публикация изменяет общественное мнение, которое является суммой мнений всех NPC.

Механика коннотаций, кроме самого влияния на общественное мнение, даёт ещё несколько вызовов для игрока:

- Необходимо выбирать кого отправлять на расследование, чтобы итоговый материал было не сложно отредактировать в нужную сторону.
- Необходимо соблюдать компромисс в правках, так как исправить все коннотации не получится и придётся выбирать чем жертвовать, кого обидеть.

В итоге получаем цикл:

- Арки формируют события, специфичные для текущей ситуации в городе.
- Игрок расследует события и двигает общественное мнение.
- Общественное мнение двигает арки.

По задумке, это должно приводить к уникальности каждой игровой сессии. Конечно, если будет достаточно разнообразных арок.

## Технические заметки

- Прототипировать на современном фронте удобно. Особенно штуки без динамики и сложной графики. Идеально, если быстро надо накидать много интерфейса.
- TypeScript лучше JavaScript, но тяжёлое наследие тянется и всё ещё приносит страдания :-) Но терпимо.
